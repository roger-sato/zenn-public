---
title: "Rustプロパティベーステストを入門する"
emoji: "🙌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Rust, Test]
published: true
---

## プロパティベーステストとは?

プロパティベーステストは、特定の入力例を使用するのではなく、テスト対象のシステムが満たすべき**プロパティ**、または特性を指定することに焦点を当てています。

このアプローチでは、テストがプロパティ（つまり、システムが満たすべき特性や振る舞い）を指定し、テストフレームワークがランダムまたは意図的に生成した入力値を使用してそれらのプロパティが満たされることを確認します。

プロパティベーステストの主な利点は、手動で特定のテストケースを作成するよりも広範で効率的なテストカバレッジを提供することです。また、プロパティベーステストは、エッジケースや予期しない入力を探し出すのに特に役立つ可能性があります。

例えば、あるソート関数が「任意のリストを入力として受け取り、その結果が昇順であること」をプロパティとして持つとします。プロパティベーステストフレームワークは、このプロパティを満たすために、さまざまな種類のリスト（空リスト、一要素のリスト、ランダムな数値のリストなど）を関数に対してテストします。

プロパティベーステストは、Haskell の QuickCheck をはじめとするいくつかのライブラリやフレームワークで実装されています。また、他の多くのプログラミング言語でも同様のツールが利用可能です。

今回は、Rust の QuickCheck クレートを利用してプロパティベーステストを行うと思います。

https://docs.rs/quickcheck/latest/quickcheck/

## セットアップ

コードを書く環境を構築します。
適当なディレクトリでプロジェクトを作成します。

```sh
cargo new rust_property_base_testing
```

`Cargo.toml`ファイルを開いて、QuickCheck のクレート依存を追加します。

```toml
[dev-dependencies]
quickcheck = "1.0"
quickcheck_macros = "1.0"
```
